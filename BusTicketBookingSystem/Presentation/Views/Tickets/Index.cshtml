@using Domain.Models;
@model List<Domain.Models.Ticket>

@{
    ViewData["Title"] = "Index";
}

<h1>Ticket Management System</h1>

<a class="btn btn-success" href="/Tickets/Create">Add new ticket</a>

@if(!Model.Any())
{
    <div class="alert alert-warning mt-4" role="alert">Unfortunately, no tickets are available at the moment!</div>
} 
else
{
    @foreach (Ticket ticket in Model)
    {
        <div class="card" style="width: 100%">
            <img src="@ticket.Bus.Fleet.ImagePath" class="card-img-top" alt="@ticket.Bus.Fleet.Name">
            <div class="card-body">
                <h5 class="card-title">@ticket.ReferenceNumber</h5>
                <p class="card-text">
                    <span><strong>Route:</strong> @ticket.Line.Name</span><br />
                    <span><strong>Fare:</strong> @ticket.TicketType.Name (&euro;@ticket.TicketType.Cost)</span><br />
                    <span><strong>Origin:</strong> @ticket.Origin.Name</span><br />
                    <span><strong>Destination:</strong> @ticket.Destination.Name</span><br />
                    <span><strong>Date Issued:</strong> @ticket.IssueDate</span><br />
                    <span><strong>Bus:</strong> @ticket.Bus.Plate</span>
                </p>
                <a href="/Tickets/Edit/@ticket.Id" class="btn btn-primary">Modify</a>
                <a href="/Tickets/Delete/@ticket.Id" class="btn btn-danger">Delete</a>
            </div>
        </div>
    }
}